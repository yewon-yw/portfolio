# 👤 마이페이지

### 목차

- [프로필 변경](#프로필-변경)

- [비밀번호 변경](#비밀번호-변경)

- [로그아웃](#로그아웃)

<br>

## <a name="프로필-변경"></a>⭐️ 프로필 변경

<img src="https://github.com/user-attachments/assets/bc73e092-de76-4a7f-808d-80ee8bbaaa3d" alt="프로필변경" width="30%">

**[문제 해결]**
- 프로필 이미지에 두 가지 타입이 존재할 수 있는 문제
  - 기존 이미지 URL, 새로 선택한 이미지 URI
  - 파일 타입으로 변환해서 사용
  - 코드 가독성과 유지보수성을 향상

**[배운 점]**
- MultiPart 를 이용한 이미지 전송 방법
- 화면 전환 시 데이터 전달
  - API를 여러 번 호출하기보다는 이미 받아온 데이터를 재사용하는 것이 효율적이라고 판단
  - Navigation의 arguments를 이용해 프로필 조회 페이지에서 프로필 수정 페이지로 데이터 전달
- 리팩토링을 통한 코드 개선
  - 하위 컴포저블을 Stateless 하게 변경
    - 변수는 상위 컴포저블에 선언하고, 하위 컴포저블엔 변수나 메서드를 인자로 전달
  - 프리뷰 생성을 위해 스크린의 UI 코드 분리

<br>

## <a name="비밀번호-변경"></a>⭐️ 비밀번호 변경

<img src="https://github.com/user-attachments/assets/6ef7ebd5-9152-4cd2-b14a-d1a1a2bf9442" alt="비밀번호변경" width="30%">


**[문제 해결]**
- 오류 케이스에 따라 필드를 적절히 초기화해야 하는 문제
  - 이전 오류와 동일한 오류가 발생하면 필드가 초기화되지 않거나, 사용자가 새로 입력할 때 필드가 불필요하게 초기화되는 문제 발생  
  - 초기화 조건을 결정하는 변수 `reset`을 추가하고, LaunchedEffect를 사용하여 `reset`의 변경을 감지  
  - 텍스트 필드를 초기화할 때 `reset` 필드도 함께 초기화하여 텍스트 필드의 중복 초기화를 방지

**[배운 점]**
- API 호출을 줄이고 오류를 최소화
  - 앱에서 미리 확인할 수 있는 오류 케이스는 API 호출 생략
  - 서버에서의 null 오류를 방지하기 위해 필드 미입력 시 버튼 비활성화
- 사용자 경험을 개선
  - 비밀번호 입력 시 키보드에 가려진 버튼으로 스크롤되도록 구현

<br>

## <a name="로그아웃"></a>⭐️ 로그아웃

<img src="https://github.com/user-attachments/assets/21958989-1c42-43d7-bdbe-8c0d523f7f36" alt="로그아웃" width="30%">

**[문제 해결]**
- 마이페이지 화면에 로그아웃 뷰모델 의존성을 주입해야 하는 문제
  - 로그아웃 기능은 다이얼로그만 존재하므로, 마이페이지 화면 위에 다이얼로그를 출력해야 함
  - 마이페이지 화면에서 다이얼로그의 visibility만 제어하도록 컴포저블을 분리하여 해결
  - 마이페이지 화면의 로그아웃 뷰모델 의존성 제거

**[배운 점]**
- 다이얼로그 사용 방법을 익힘








